# 🌐 Transtation 中文字符串提取工具 - 项目结构

## 📁 文件结构

```
Transtation/
├── chinese_string_extractor.py    # 主程序文件
├── templates/
│   └── index.html                 # Web界面模板
├── requirements.txt               # Python依赖包
├── start_tool.bat                # Windows启动脚本
├── start_tool.sh                 # Linux/macOS启动脚本
├── demo_usage.py                 # 使用演示脚本
├── config_template.json          # 配置文件模板
├── README_字符串提取工具.md        # 详细使用说明
├── 项目结构说明.md                # 本文件
└── ignored_strings.json          # 被忽略的字符串（运行时生成）
```

## 🚀 快速开始

### Windows 用户
双击运行 `start_tool.bat`

### Linux/macOS 用户
```bash
chmod +x start_tool.sh
./start_tool.sh
```

### 手动启动
```bash
pip install -r requirements.txt
python chinese_string_extractor.py
```

## 📋 核心文件说明

### `chinese_string_extractor.py`
- 主程序文件，包含所有核心功能
- 提供Flask Web服务
- 包含字符串提取、翻译、XML生成和代码替换功能

### `templates/index.html`
- 现代化的Web界面
- 响应式设计，支持移动端
- Vue.js + 原生CSS实现

### `demo_usage.py`
- 演示如何通过代码直接调用工具功能
- 包含完整的使用示例
- 可用于自动化脚本集成

## 🔧 工作流程

1. **扫描代码** → 提取中文字符串
2. **AI翻译** → 生成英文翻译和资源名
3. **用户编辑** → 手动调整翻译结果
4. **生成文件** → 创建strings.xml文件
5. **替换代码** → 将字符串替换为ResStrings引用

## 📊 功能特性

### ✅ 已实现功能
- [x] 中文字符串自动提取
- [x] OpenAI GPT翻译集成
- [x] Web可视化界面
- [x] 批量操作支持
- [x] LibRes格式XML生成
- [x] 代码自动替换
- [x] 忽略机制
- [x] 格式化字符串支持
- [x] 多模块支持

### 🚧 潜在改进
- [ ] 支持更多翻译服务
- [ ] 翻译质量评估
- [ ] 批量处理优化
- [ ] 更智能的资源命名
- [ ] 翻译缓存机制
- [ ] 配置文件支持

## 🎯 使用建议

### 第一次使用
1. 在小范围测试（单个模块）
2. 仔细检查翻译结果
3. 手动调整不满意的翻译
4. 确认代码正常编译

### 日常使用
1. 定期运行工具检查新增字符串
2. 保持翻译风格一致性
3. 及时更新忽略列表
4. 备份重要文件

### 团队协作
1. 统一翻译规范
2. 共享配置文件
3. 定期同步忽略列表
4. Code Review翻译质量

## 🐛 故障排除

### 常见问题
- **提取不到字符串**：检查文件路径和权限
- **翻译失败**：确认API Key有效，网络连接正常
- **生成XML失败**：检查目录写入权限
- **代码替换错误**：备份文件，手动检查替换结果

### 错误日志
程序运行时的错误信息会显示在Web界面和终端中，请根据错误信息进行相应处理。

## 📞 技术支持

如遇到问题，请检查：
1. Python版本（需要3.7+）
2. 依赖包是否正确安装
3. API Key是否有效
4. 文件权限是否正确
5. 网络连接是否正常

---

**注意事项**：
- 首次使用前请备份代码
- 翻译结果需要人工审核
- 注意API使用费用
- 保护好API Key安全